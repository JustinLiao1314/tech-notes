# 正确理解 const 定义变量

`const` 实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指针，`const`只能保证这个指针是固定的，至于它指向的数据结构是不是可变的，就完全不能控制了。

```js
/**
  -----------------
  | 0xa5 |   20   |
  | 0xa4 |  0xa5  | ==> c
  | 0xa3 |  0xa2  | ==> b
  | 0xa2 |   10   |
  | 0xa1 |  0xa2  | ==> a
  -----------------
**/

const a = 10;
const b = a;
const c = 20;
```

## const 定义数组、对象

```js
const a = [];
a.push(1); // ok
a = {}; // Error
```

## 为什么？

const 声明创建一个值的只读引用。但这并不意味着它所持有的值是不可变的，只是变量标识符不能重新分配。也就是说 const 仅仅是为了保证这个变量标识符的值类型是不会发生变化的，比如，使用 var 定义的变量可能出现运行过程中出现参数类型变化：

```js
var a = 'baidu.com';

// .... 经过一系列代码运行之后，也许变量 a 变成了 Number 类型，这时，你尝试调用 String.prototype.split() 时就会出现运行异常。

var a = 1;

a.split('.'); // Error
```

但是使用 const 时，就能保证变量在运行时，类型是不会变的：

```js
const a = [];

a.splice(0, 1); // ok

a = 1; // 重新改变 a 的值类型为 Number 时，就会报错。
```

# 总结

1. **能用 const 就使用 const。**
